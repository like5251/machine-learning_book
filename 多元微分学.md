# 多元微分学
实际应用中的函数普遍包含多个变量，当进入高维时，微积分的普遍法则本质上保持原样，虽然必须引入一些新的记号，但幸运的是并不需要彻底改造原有理论，多变量微积分无非是同时在各个方向运用单变量微积分。

## 梯度（Gradient）

### 多元函数
定义：$$f:\overrightarrow{x}\rightarrow y$$，其中$$\overrightarrow{x}=(x_{1},x_{2},...,x_{n})\in \mathbb{R}^{n}$$，$$y\in \mathbb{R}$$。多元函数是从n维空间到一维空间的映射。

### 等高线图

定义：对于二元函数$$f(x,y)$$，曲线$$f(x,y)=z_{0}$$称为函数f在平面$$z=z_{0}$$中的等高线。如果所有等高线$$z=z_{0}$$都被投射到$$x-y$$平面上，则得到这个曲面的等高线图。

### 梯度（向量）
定义：f在点(x,y)的梯度是由f在点(x,y)处的偏导构成向量，记做$$\bigtriangledown f(x,y)$$，读作grad f。

$$
\bigtriangledown f(x,y) = \frac{\partial f}{\partial x}\mathbf{i}+\frac{\partial f}{\partial y}\mathbf{j}
$$

$$
\triangledown f(\textbf{x}) = \begin{bmatrix}
\frac{\partial f}{\partial x_{i}}
\end{bmatrix}_{n\times 1}
$$

性质：
- 梯度是输入空间中的一个偏导向量；
- 梯度的方向是在输入空间中使函数增长最快的方向；
- 梯度的大小是函数关于输入向量的最大变化率；

### 全导数
定义：f在点(x,y)的全导数既是f在点(x,y)的梯度向量，记做$$f^{'}(x,y)$$。

$$
f^{'}(x,y)=\triangledown  f(x,y) = \frac{\partial f}{\partial x}\mathbf{i}+\frac{\partial f}{\partial y}\mathbf{j}\\
f^{'}(\mathbf{x})=\triangledown f(\textbf{x}) = \begin{bmatrix}
\frac{\partial f}{\partial x_{i}}
\end{bmatrix}_{n\times 1}\\
f(\mathbf{x}) \approx f(\mathbf{x_{0}})+f^{'}(\mathbf{x_{0}})^{T}(\mathbf{x}-\mathbf{x_{0}})
$$

性质：
- 全导数不同于全微分，后者是指多元函数全增量
$$\triangle z$$的线性主部。

$$
\triangle z = A\triangle x+B\triangle y + o(\sqrt{(\triangle x)^{2}+(\triangle y)^{2}})\\
d z = A\triangle x+B\triangle y = Adx+Bdy
$$


### 方向导数
定义：设$$\mathbf{\mathit{u}}$$为单位向量，$$f$$在该方向上的方向导数（变化率）记做$$\frac{\partial f}{\partial \mathbf{\mathit{u}}}$$。

$$
\begin{align*}
\frac{\partial f(\overrightarrow{x})}{\partial \overrightarrow{u}}&=\lim_{h\rightarrow 0}\frac{f(\overrightarrow{x}+h\overrightarrow{u})-f(\overrightarrow{x})}{h}\\
&=\triangledown f(\overrightarrow{x})\cdot \overrightarrow{u}\\
&=|\triangledown f(\overrightarrow{x})|cos(\theta )
\end{align*}
$$

性质：
- 方向导数是梯度向量在该方向上的投影；
- 梯度方向的方向导数最大，即函数在梯度方向上增长最快；
- 在负梯度方向上，函数下降最快；

![](/assets/ds.png)

## 海赛矩阵（Hessian Matrix）
定义：海塞矩阵是一个多元函数的二阶偏导数构成的对称方阵，描述了函数的局部曲率。

$$
H(f)=\begin{bmatrix}
\frac{\partial f}{\partial x_{i} \partial x_{j}}
\end{bmatrix}_{n\times n}
$$

完整写作：

![](/assets/hessian.svg)

### 利用海赛矩阵判定多元函数极值

定理：设n元函数$$f(x_{1},x_{2},...,x_{n})$$在点 $$M_{0}(a_{1},a_{2},...,a_{n})$$的邻域内有二阶连续偏导，如果f在该点梯度为0，则可以通过该点的二阶偏导即海塞矩阵H判断函数在该点是否取得极值。

1. 如果H为正定矩阵，函数在该点取得极小值；
2. 如果H为负正定矩阵，函数在该点取得极大值；
3. 如果H是半正定或半负定，该点是可疑极值点，需更通过其他方法来判定；
4. 如果H是不定矩阵，该点不是极值点；


## 多元泰勒展开




























